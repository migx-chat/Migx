Buatkan untuk saya sistem Global Light & Dark Theme untuk project React Native + Expo Router.
Saya ingin sistem theme yang:

1. Menggunakan file global terpisah.


2. Bisa auto mengikuti mode perangkat (useColorScheme).


3. Bisa manual toggle dark/light mode.


4. Semua komponen cukup memanggil useThemeCustom() untuk memakai warna.


5. Tema disimpan menggunakan AsyncStorage agar tidak reset saat aplikasi dibuka ulang.



Buatkan tiga file berikut dengan isi lengkap:


---

1. File: /theme/index.ts

Isi:

export LightTheme

export DarkTheme

export ThemeType


Gunakan warna berikut:

export const LightTheme = {
  mode: "light",
  background: "#FFFFFF",
  text: "#111111",
  primary: "#3B82F6",
  secondary: "#64748B",
  card: "#F8F9FB",
  border: "#E5E7EB",
};

export const DarkTheme = {
  mode: "dark",
  background: "#0F0F0F",
  text: "#FFFFFF",
  primary: "#60A5FA",
  secondary: "#94A3B8",
  card: "#1A1A1A",
  border: "#2C2C2C",
};


---

2. File: /theme/provider.tsx

Isi:

React Context untuk theme

Auto detect system theme (useColorScheme)

Load & save mode dengan AsyncStorage

Function:

toggleTheme() untuk ganti light/dark

setThemeMode(mode) â†’ "light" | "dark" | "system"


Hook: useThemeCustom()


Saya ingin provider seperti ini:

<ThemeProviderCustom>
   {children}
</ThemeProviderCustom>

Dan return value dari hook:

const { theme, mode, toggleTheme, setThemeMode } = useThemeCustom();


---

3. Integrasikan ke app/_layout.tsx

Tambahkan kode:

<ThemeProviderCustom>
  <Stack screenOptions={{ headerShown: false }} />
  <StatusBar style="auto" />
</ThemeProviderCustom>

Jangan lupa import:

import { ThemeProviderCustom } from "@/theme/provider";


---

4. Berikan contoh penggunaan

Di komponen biasa:

const { theme, toggleTheme } = useThemeCustom();

<View style={{ flex: 1, backgroundColor: theme.background }}>
  <Text style={{ color: theme.text }}>Hello</Text>

  <TouchableOpacity onPress={toggleTheme}>
    <Text style={{ color: theme.primary }}>Toggle Theme</Text>
  </TouchableOpacity>
</View>


---

Pastikan hasil Anda:

Semua warna UI controlled dari dua file global

Bisa auto & manual theme switching

Tidak harus ubah komponen satu-satu

Siap untuk aplikasi besar